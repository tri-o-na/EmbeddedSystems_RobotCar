<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Car Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/paho-mqtt@1.1.0/paho-mqtt.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Robot Car Control Dashboard</h1>
            <div class="connection-status" id="connectionStatus">
                <span class="status-indicator" id="statusIndicator"></span>
                <span id="statusText">Disconnected</span>
            </div>
        </header>

        <div class="dashboard-grid">
            <!-- Telemetry Section -->
            <section class="telemetry-panel">
                <h2>Telemetry Data</h2>
                <div class="telemetry-data">
                    <div class="data-item">
                        <label>Left Encoder (Œºs):</label>
                        <span id="enc1">--</span>
                    </div>
                    <div class="data-item">
                        <label>Right Encoder (Œºs):</label>
                        <span id="enc2">--</span>
                    </div>
                    <div class="data-item">
                        <label>Motor 1 Speed:</label>
                        <span id="m1">--</span>
                    </div>
                    <div class="data-item">
                        <label>Motor 2 Speed:</label>
                        <span id="m2">--</span>
                    </div>
                    <div class="data-item">
                        <label>Timestamp:</label>
                        <span id="timestamp">--</span>
                    </div>
                </div>
                <div class="last-update">
                    Last update: <span id="lastUpdate">Never</span>
                </div>
            </section>

            <!-- Control Section -->
            <section class="control-panel">
                <h2>Motor Control</h2>
                
                <div class="control-group">
                    <label for="motor1Slider">Motor 1: <span id="motor1Value">0.00</span></label>
                    <input type="range" id="motor1Slider" min="-1" max="1" step="0.01" value="0" 
                           oninput="updateMotorDisplay(1, this.value)">
                </div>
                
                <div class="control-group">
                    <label for="motor2Slider">Motor 2: <span id="motor2Value">0.00</span></label>
                    <input type="range" id="motor2Slider" min="-1" max="1" step="0.01" value="0"
                           oninput="updateMotorDisplay(2, this.value)">
                </div>

                <div class="button-group">
                    <button onclick="sendStop()" class="btn-stop">üõë Emergency Stop</button>
                    <button onclick="sendZero()" class="btn-zero">0Ô∏è‚É£ Set to Zero</button>
                </div>

                <div class="command-status" id="commandStatus"></div>
            </section>
        </div>

        <!-- Configuration Section -->
        <section class="config-panel">
            <h2>MQTT Configuration</h2>
            <div class="config-inputs">
                <div>
                    <label>Broker IP:</label>
                    <input type="text" id="brokerIP" value="172.20.10.2" placeholder="172.20.10.2">
                </div>
                <div>
                    <label>Broker Port:</label>
                    <input type="number" id="brokerPort" value="1883" placeholder="1883">
                </div>
                <button onclick="connectMQTT()" id="connectBtn" class="btn-connect">Connect</button>
            </div>
        </section>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>

